<!Doctype html>
<html lang="en">
<head>
	<title>Add New Book Collection</title>
</head>
<body>
	<div hidden id="userId"></div>
	<form>
		<div>
			<label>Enter Collection Name</label>
			<input type="text" id="collectionNameInput" autofocus>
		</div>
		<button type="submit">Add New Collection</button>
	</form>

	<script>
		const electron = require('electron');
		const {ipcRenderer} = electron;

		const form = document.querySelector('form');
		form.addEventListener('submit', submitForm);

		ipcRenderer.on('collection:init', function(e, userId) {
			setUserId(userId);
        });

		function setUserId(userId) {
			const id = document.createTextNode(userId);
            document.querySelector('#userId').appendChild(id);
		}

		function submitForm(e) {
			e.preventDefault();
			const collectionName = document.querySelector('#collectionNameInput').value;
			ipcRenderer.send('collection:add', collectionName, document.getElementById('userId').innerHTML);
		}
	</script>
</body>
</html>
