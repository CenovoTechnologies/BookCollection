<!Doctype html>
<html lang="en">
<head>
	<title>Collection</title>
</head>
<body>
    <h3 id="collectionName"></h3>
    <div>
        <button type="button" id="addBookBtn">Add New Book</button>
    </div>
    <div id="bookList">
    </div>

	<script>
        const electron = require('electron');
        const {ipcRenderer} = electron;
        const collection = document.querySelector('#collectionName');
        const addBookBtn = document.querySelector('#addBookBtn');
        const bookList = document.querySelector('#bookList');

        addBookBtn.addEventListener('click', createBook);

        ipcRenderer.on('collection:open', function(e, collectionId) {
            collection.appendChild(document.createTextNode(collectionId));
        });

        ipcRenderer.on('book:add', function(e, title, author) {
            const bookItem = document.createTextNode(title + ' By: ' + author);
            bookList.appendChild(bookItem);
        });

        function createBook(e) {
            e.preventDefault();
            ipcRenderer.send('addBookBtn:click');
        }
        
	</script>
</body>
</html>
